{"version":3,"sources":["utils/media-session.js","actions/index.js","components/AddSongs.jsx","components/Song.jsx","components/SongList.jsx","components/NowPlaying.jsx","views/MainView.jsx","components/Header.jsx","components/PlayingCtrl.jsx","views/PlayingView.jsx","utils/keyboardEvents.js","App.jsx","registerServiceWorker.js","reducers/songs.js","reducers/playState.js","reducers/common.js","reducers/index.js","reducers/page.js","index.js","store/localStore.js"],"names":["store","mediaSessionEnabled","navigator","mediaSession","setActionHandler","state","getState","prevId","playState","songId","songs","length","dispatch","playSong","nextId","togglePlaying","media_session","s","song","id","metadata","window","MediaMetadata","title","name","artist","album","artwork","src","sizes","type","addNewSong","PLAYLIST_PAGE","SETTINGS_PAGE","NOW_PLAYING_PAGE","addSongs","AddSongs","addSong","e","add","_this","props","currentTarget","files","react_default","a","createElement","Fab_default","color","aria-label","component","htmlFor","style","position","bottom","right","zIndex","display","onChange","this","multiple","accept","Add_default","Component","connect","Song","_ref","handleClick","handleIconClick","isPlaying","ListItem_default","className","onClick","ListItemAvatar_default","Avatar_default","Equalizer_default","MusicNote_default","ListItemText_default","primary","secondary","ListItemSecondaryAction_default","IconButton_default","MoreVert_default","remove","play","_useState","useState","_useState2","Object","slicedToArray","anchorEl","setAnchorEl","_useState3","_useState4","activeSong","setActiveSong","setActiveSongItem","ind","_ref2","target","handleSongClick","marginBottom","Menu_default","open","Boolean","onClose","MenuItem_default","List_default","map","components_Song","key","concat","lastModifiedDate","Divider_default","fontWeight","textAlign","NowPlaying","playingSong","currentTime","openNowPlaying","Paper_default","closest","LinearProgress_default","variant","value","playing","Pause_default","PlayCircleFilled_default","defaultProps","MainView","handleDragOver","event","preventDefault","stopPropagation","dataTransfer","dropEffect","_this2","_this$props","openSnackbar","toggle","onDragOver","onDrop","File","FileReader","FileList","Blob","toConsumableArray","filter","endsWith","components_SongList","components_AddSongs","components_NowPlaying","menuOptions","option","page","icon","Home_default","PlaylistPlay_default","icons_List_default","Settings_default","Header","openPage","setState","prevState","AppBar_default","Toolbar_default","icons_Menu_default","Typography_default","height","SwipeableDrawer_default","anchor","onOpen","paddingTop","button","ListItemIcon_default","PlayingCtrl","changeRepeat","repeat","repeatType","installEvent","setTimeout","_this$props2","playNext","playPrevious","timeDrag","Slider_default","_","newVal","max","min","defaultValue","width","RepeatOne_default","Repeat_default","opacity","SkipPrevious_default","PauseCircleFilled_default","SkipNext_default","Shuffle_default","common","PlayingView","justifyContent","alignItems","marginTop","Album_default","fontSize","components_PlayingCtrl","ACTION_KEYS","App","classCallCheck","_super","call","URL","revokeObjectURL","songEnded","_this$props3","updateTime","audioPlayer","duration","fileSrc","createObjectURL","document","replace","time","handleActionClick","handleRequestClose","snackBarOpen","snackMsg","hideSnackAction","hasRejectedInstall","addToHomeScreenUIVisible","_this$props4","releaseKeyboardEvents","handlers","handler","upperCaseKey","code","toUpperCase","indexOf","addEventListener","removeEventListener","keyboardEvents","nextProps","_this3","_this$state","console","log","pause","prompt","userChoice","then","choiceResult","outcome","_this4","_this$state2","_this$props5","Fragment","components_Header","hidden","controls","onEnded","onTimeUpdate","ref","audio","assign","kind","views_PlayingView","msg","views_MainView","Snackbar_default","autoHideDuration","ContentProps","aria-describedby","message","action","Button_default","size","isLocalhost","location","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","initalState","initialState","sidebarOpen","reducers","combineReducers","arguments","undefined","index","objectSpread","muiTheme","createMuiTheme","palette","deepPurple","LocalForage","localState","createStore","mediaNotification","subscribe","ReactDOM","render","es","styles","theme","src_App","getElementById","process","origin","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"iKAIIA,kKACEC,EAAuB,iBAAkBC,UAqD3CD,IAzBFC,UAAUC,aAAaC,iBAAiB,gBAAiB,WACvD,GAAIJ,EAAO,CACT,IAAMK,EAAQL,EAAMM,WACdC,EAAoC,IAA3BF,EAAMG,UAAUC,OAC3BJ,EAAMK,MAAMC,OAAS,EAAIN,EAAMG,UAAUC,OAAS,EACtDT,EAAMY,SAASC,EAASN,OAI5BL,UAAUC,aAAaC,iBAAiB,YAAa,WACnD,GAAIJ,EAAO,CACT,IAAMK,EAAQL,EAAMM,WACdQ,GAAUT,EAAMG,UAAUC,OAAS,GAAKJ,EAAMK,MAAMC,OAC1DX,EAAMY,SAASC,EAASC,OAI5BZ,UAAUC,aAAaC,iBAAiB,OAAQ,WAC1CJ,GAAOA,EAAMY,SAASG,OAG5Bb,UAAUC,aAAaC,iBAAiB,QAAS,WAC3CJ,GAAOA,EAAMY,SAASG,QAKf,IAAAC,EAAA,SACJC,GACPjB,EAAQiB,GAFGD,EAAA,SAIJE,GACHjB,GA3DW,SAACkB,GAClB,IAAMd,EAAQL,EAAMM,WACpBJ,UAAUC,aAAaiB,SAAW,IAAIC,OAAOC,cAAc,CACzDC,MAAOlB,EAAMK,MAAMS,GAAIK,KACvBC,OAAQ,UACRC,MAAO,iBACPC,QAAS,CAAC,CACRC,IAAK,qCACLC,MAAO,QACPC,KAAM,aACL,CACDF,IAAK,sCACLC,MAAO,UACPC,KAAM,aACL,CACDF,IAAK,uCACLC,MAAO,UACPC,KAAM,aACL,CACDF,IAAK,2BACLC,MAAO,UACPC,KAAM,gBAuCNC,CAAWb,ICzDJc,EAAgB,gBAIhBC,EAAgB,gBAChBC,EAAmB,mBAEnBC,EAAW,SAAAzB,GAAK,MAAK,CAChCoB,KAduB,YAevBpB,UAQWG,EAAW,SAACM,GAEvB,OADAhB,EAAsBgB,GACf,CACLW,KAtBqB,YAuBrBX,OASSJ,EAAgB,iBAAO,CAClCe,KAnC4B,+fCE9B,IAIMM,oMACJC,QAAU,SAACC,IAETC,EAD0BC,EAAKC,MAAvBN,UACJG,EAAEI,cAAcC,+DAIpB,OACEC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACEG,MAAM,UACNC,aAAW,MACXC,UAAU,QACVC,QAAQ,aACRC,MAAO,CACLC,SAAU,QAASC,OAAQ,QAASC,MAAO,OAAQC,OAAQ,MAG7DZ,EAAAC,EAAAC,cAAA,SACEM,MAAO,CAAEK,QAAS,QAClBtC,GAAG,aACHuC,SAAUC,KAAKtB,QACfP,KAAK,OACL8B,UAAQ,EACRC,OAAO,cAETjB,EAAAC,EAAAC,cAACgB,EAAAjB,EAAD,cAzBekB,aAmCRC,cAAQ,KAvCI,SAAApD,GAAQ,MAAK,CACtCuB,SAAU,SAAAzB,GAAK,OAAIE,EAASuB,EAASzB,OAsCxBsD,CAAkC5B,0QCLlC6B,GA3BF,SAAAC,GAAA,IACXhD,EADWgD,EACXhD,KAAMiD,EADKD,EACLC,YAAaC,EADRF,EACQE,gBAAiBC,EADzBH,EACyBG,UADzB,OAGXzB,EAAAC,EAAAC,cAACwB,EAAAzB,EAAD,CAAU0B,UAAU,OAAOC,QAASL,GAClCvB,EAAAC,EAAAC,cAAC2B,GAAA5B,EAAD,KACED,EAAAC,EAAAC,cAAC4B,GAAA7B,EAAD,KACKwB,EAA4BzB,EAAAC,EAAAC,cAAC6B,GAAA9B,EAAD,MAAhBD,EAAAC,EAAAC,cAAC8B,GAAA/B,EAAD,QAGnBD,EAAAC,EAAAC,cAAC+B,GAAAhC,EAAD,CACEiC,QAAS5D,EAAKM,KACduD,UAAW,OAEbnC,EAAAC,EAAAC,cAACkC,GAAAnC,EAAD,CAAyB2B,QAASJ,GAChCxB,EAAAC,EAAAC,cAACmC,EAAApC,EAAD,CAAYI,aAAW,UACrBL,EAAAC,EAAAC,cAACoC,GAAArC,EAAD,UCqCOmB,eAvDS,SAAAhE,GAAK,MAAK,CAChCQ,UAAWR,EAAMQ,YAsDqB,CAAE2E,OH7ChB,SAAAhE,GAAE,MAAK,CAC/BW,KAlB0B,eAmB1BX,OG2C4DiE,KAAMvE,GAArDmD,CAnDE,SAAAE,GAEX,IADJxD,EACIwD,EADJxD,MAAOyE,EACHjB,EADGiB,OAAQC,EACXlB,EADWkB,KAAM5E,EACjB0D,EADiB1D,UACjB6E,EAC4BC,mBAAS,MADrCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACGK,EADHH,EAAA,GACaI,EADbJ,EAAA,GAAAK,EAGgCN,oBAAU,GAH1CO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAGGE,EAHHD,EAAA,GAGeE,EAHfF,EAAA,GAKEG,EAAoB,SAAAC,GAAG,OAAI,SAAAC,GAAgB,IAAbC,EAAaD,EAAbC,OAClCR,EAAYQ,GACZJ,EAAcE,KAGVG,EAAkB,SAAAH,GAAG,OAAI,kBAAMb,EAAKa,KAE1C,OAAKvF,EAAMC,OAMTiC,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAEiD,aAAc,UAC1BzD,EAAAC,EAAAC,cAACwD,EAAAzD,EAAD,CAAM1B,GAAG,cAAcuE,SAAUA,EAAUa,KAAMC,QAAQd,GAAWe,QAAS,kBAAMd,EAAY,QAC7F/C,EAAAC,EAAAC,cAAC4D,EAAA7D,EAAD,CAAU2B,QAAS,kBAAMW,EAAOW,KAAhC,gBAEFlD,EAAAC,EAAAC,cAAC6D,EAAA9D,EAAD,KAEInC,EAAMkG,IAAI,SAAC1F,EAAM+E,GAAP,MACR,CACErD,EAAAC,EAAAC,cAAC+D,GAAD,CACEC,IAAG,QAAAC,OAAU7F,EAAK8F,kBAClB7C,YAAaiC,EAAgBH,GAC7B7B,gBAAiB4B,EAAkBC,GACnC/E,KAAMA,EACNmD,UAAW4B,IAAQzF,EAAUC,SAE/BmC,EAAAC,EAAAC,cAACmE,EAAApE,EAAD,CAASiE,IAAG,WAAAC,OAAa7F,EAAK8F,yBAnBtCpE,EAAAC,EAAAC,cAAA,MAAIM,MAAO,CAAE8D,WAAY,IAAKC,UAAW,WAAzC,0HCrBAC,GAAa,SAAAlD,GAEb,IADJ1D,EACI0D,EADJ1D,UAAW6G,EACPnD,EADOmD,YAAaC,EACpBpD,EADoBoD,YAAavG,EACjCmD,EADiCnD,cAAewG,EAChDrD,EADgDqD,eAQpD,OACE3E,EAAAC,EAAAC,cAAC0E,GAAA3E,EAAD,CAAO0B,UAAU,oBAAoBC,QAPnB,SAAClC,IACdA,EAAE6D,OAAOsB,QAAQ,oBAAsBJ,GAC1CE,MAMA3E,EAAAC,EAAAC,cAAC4E,GAAA7E,EAAD,CAAgB8E,QAAQ,cAAcC,MAAON,IAC7C1E,EAAAC,EAAAC,cAAA,OAAKyB,UAAU,yBACb3B,EAAAC,EAAAC,cAAC4B,GAAA7B,EAAD,KACED,EAAAC,EAAAC,cAAC8B,GAAA/B,EAAD,OAEFD,EAAAC,EAAAC,cAAA,OAAKyB,UAAU,aACZ8C,EAAcA,EAAY7F,KAAO,aAEpCoB,EAAAC,EAAAC,cAAA,UAAQhB,KAAK,SAAS0C,QAASzD,GAC3BP,EAAUqH,QAAUjF,EAAAC,EAAAC,cAACgF,GAAAjF,EAAD,MAAgBD,EAAAC,EAAAC,cAACiF,GAAAlF,EAAD,UAOhDuE,GAAWY,aAAe,CACxBX,YAAa,MAWAD,2cCxCf,IAMMa,sMACJC,eAAiB,SAACC,GAChBA,EAAMC,iBACND,EAAME,kBAENF,EAAMG,aAAaC,WAAa,+DAGzB,IAAAC,EAAA7E,KAAA8E,EAGH9E,KAAKlB,MADP/B,EAFK+H,EAEL/H,MAAOF,EAFFiI,EAEEjI,UAAW+G,EAFbkB,EAEalB,eAAgBmB,EAF7BD,EAE6BC,aAAcpB,EAF3CmB,EAE2CnB,YAAuB/E,EAFlEkG,EAEwDtG,SAAewG,EAFvEF,EAEuEE,OAE9E,OACE/F,EAAAC,EAAAC,cAAA,OACE8F,WAAYjF,KAAKuE,eACjBW,OAAQ,SAACV,GAEP,GADAK,EAAKN,eAAeC,GAChB9G,OAAOyH,MAAQzH,OAAO0H,YAAc1H,OAAO2H,UAAY3H,OAAO4H,KAAM,CACtE,IAAMtG,EAAQ6C,OAAA0D,EAAA,EAAA1D,CAAI2C,EAAMG,aAAa3F,OAAOwG,OAAO,SAAAjF,GAAA,IAAG1C,EAAH0C,EAAG1C,KAAH,OAAcA,GAAQA,EAAK4H,SAAS,UACnFzG,EAAMhC,OAAS,GAAG4B,EAAII,QAE1B+F,EAAa,0DAEf,OAAO,IAGT9F,EAAAC,EAAAC,cAACuG,GAAD,CAAU3I,MAAOA,IACjBkC,EAAAC,EAAAC,cAACwG,EAAD,MACA1G,EAAAC,EAAAC,cAACyG,GAAD,CACExI,cAAe4H,EACfnI,UAAWA,EACX6G,YAAa3G,EAAMF,EAAUC,QAC7B8G,eAAgBA,EAChBD,YAAaA,YAjCAvD,aAkDRC,eAAQ,KAxDI,SAAApD,GAAQ,MAAK,CACtC+H,OAAQ,kBAAM/H,EAASG,MACvBwG,eAAgB,kBAAM3G,EL6Ca,CACnCkB,KAAMI,KK7CNC,SAAU,SAAAzB,GAAK,OAAIE,EAASuB,EAASzB,OAqDxBsD,CAAkCiE,spBC1CjD,IAIMuB,GAAc,CAClB,CACEC,OAAQ,OACRC,KNlBqB,YMmBrBC,KAAM/G,EAAAC,EAAAC,cAAC8G,GAAA/G,EAAD,OAER,CACE4G,OAAQ,aACRC,KAAMxH,EACNyH,KAAM/G,EAAAC,EAAAC,cAAC+G,GAAAhH,EAAD,OAER,CACE4G,OAAQ,YACRC,KAAM1H,EACN2H,KAAM/G,EAAAC,EAAAC,cAACgH,GAAAjH,EAAD,OAER,CACE4G,OAAQ,WACRC,KAAMzH,EACN0H,KAAM/G,EAAAC,EAAAC,cAACiH,GAAAlH,EAAD,QAIJmH,sMACJ3J,MAAQ,CACNkG,MAAM,KAGR0D,SAAW,SAAAP,GAAI,OAAI,WAAM,IAAAjB,EACuBjG,EAAKC,MAA3CwH,EADexB,EACfwB,SAAUzJ,EADKiI,EACLjI,UAAWkI,EADND,EACMC,aAC7BlG,EAAK0H,SAAS,SAAAC,GAAS,MAAK,CAAE5D,MAAO4D,EAAU5D,QAC3CmD,IAAS1H,GAAiB0H,IAASzH,GAKlCzB,GAAakJ,IAASxH,IACvBwH,GAAMO,EAASP,GALjBhB,6DAQK,IAAAF,EAAA7E,KACC4C,EAAS5C,KAAKtD,MAAdkG,KACR,OACE3D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsH,GAAAvH,EAAD,KACED,EAAAC,EAAAC,cAACuH,GAAAxH,EAAD,KACED,EAAAC,EAAAC,cAACmC,EAAApC,EAAD,CAAY2B,QAASb,KAAKsG,WAAYjH,MAAM,UAAUC,aAAW,QAC/DL,EAAAC,EAAAC,cAACwH,GAAAzH,EAAD,OAEFD,EAAAC,EAAAC,cAACyH,GAAA1H,EAAD,CAAY8E,QAAQ,KAAK3E,MAAM,WAA/B,kBAKJJ,EAAAC,EAAAC,cAAA,OAAKyB,UAAU,iBAAiBnB,MAAO,CAAEoH,OAAQ,UACjD5H,EAAAC,EAAAC,cAAC2H,GAAA5H,EAAD,CAAiB6H,OAAO,OAAOnE,KAAMA,EAAME,QAAS9C,KAAKsG,WAAYU,OAAQhH,KAAKsG,YAChFrH,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAEwH,WAAY,UAExBpB,GAAY5C,IAAI,SAAA6C,GAAM,OACpB7G,EAAAC,EAAAC,cAACwB,EAAAzB,EAAD,CAAUiE,IAAK2C,EAAOA,OAAQoB,QAAM,EAACrG,QAASgE,EAAKyB,SAASR,EAAOC,OACjE9G,EAAAC,EAAAC,cAACgI,GAAAjI,EAAD,KAAe4G,EAAOE,MACtB/G,EAAAC,EAAAC,cAAC+B,GAAAhC,EAAD,KAAe4G,EAAOA,oBAtCjB1F,aAsDNC,eAAQ,KAjFI,SAAApD,GAAQ,MAAK,CACtCqJ,SAAU,SAAAnI,GAAI,OAAIlB,EAAS,CAAEkB,YAgFhBkC,CAAkCgG,6mBCzFjD,IAUMe,sMAMJC,aAAe,WAAM,IAAAvC,EAC0BjG,EAAKC,MAA9BwI,EADDxC,EACXyC,YAERF,EAHmBvC,EACSuC,cACE,IAAXC,EAAe,EAAIA,EAAS,sEAP7B,IACVE,EAAiBxH,KAAKlB,MAAtB0I,aACRC,WAAW,iBAA8B,oBAAjBD,GAA+BA,KAAgB,sCAShE,IAAAE,EAIH1H,KAAKlB,MAFPjC,EAFK6K,EAEL7K,UAAWU,EAFNmK,EAEMnK,KAAMoK,EAFZD,EAEYC,SAAUC,EAFtBF,EAEsBE,aAAcjE,EAFpC+D,EAEoC/D,YAAyB2D,EAF7DI,EAEiDH,WACvCvC,EAHV0C,EAGLtK,cAAuByK,EAHlBH,EAGkBG,SAAU9C,EAH5B2C,EAG4B3C,aAGnC,OACE9F,EAAAC,EAAAC,cAAC0E,GAAA3E,EAAD,CAAO0B,UAAU,gBACf3B,EAAAC,EAAAC,cAAA,MAAIyB,UAAU,cAAerD,EAAKM,MAClCoB,EAAAC,EAAAC,cAAC2I,GAAA5I,EAAD,CAAQO,MAAO,CAAEoH,OAAQ,OAASjG,UAAU,gBAAgBqD,MAAON,EAAa5D,SAAU,SAACgI,EAAGC,GAAJ,OAAeH,EAASG,IAASC,IAAK,IAAKC,IAAK,EAAGC,aAAc,IAC3JlJ,EAAAC,EAAAC,cAAA,OAAKyB,UAAU,yBACb3B,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAE2I,MAAO,MAAO5E,UAAW,UAAY5C,UAAU,cAC3D3B,EAAAC,EAAAC,cAACmC,EAAApC,EAAD,CAAY2B,QAASb,KAAKqH,cACX,IAAXC,EACErI,EAAAC,EAAAC,cAACkJ,GAAAnJ,EAAD,MAAgBD,EAAAC,EAAAC,cAACmJ,GAAApJ,EAAD,CAAQO,MAAkB,IAAX6H,EAAe,GAAK,CAAEiB,QAAS,OAGpEtJ,EAAAC,EAAAC,cAACmC,EAAApC,EAAD,CAAY2B,QAAS+G,GACnB3I,EAAAC,EAAAC,cAACqJ,GAAAtJ,EAAD,QAGJD,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAE2I,MAAO,MAAO5E,UAAW,UAAY5C,UAAU,qBAC3D3B,EAAAC,EAAAC,cAACmC,EAAApC,EAAD,CAAY2B,QAASmE,GACjBnI,EAAUqH,QAAUjF,EAAAC,EAAAC,cAACsJ,GAAAvJ,EAAD,MAAgBD,EAAAC,EAAAC,cAACiF,GAAAlF,EAAD,QAG1CD,EAAAC,EAAAC,cAAA,OAAKM,MAAO,CAAE2I,MAAO,MAAO5E,UAAW,UAAY5C,UAAU,cAC3D3B,EAAAC,EAAAC,cAACmC,EAAApC,EAAD,CAAY2B,QAAS8G,GACnB1I,EAAAC,EAAAC,cAACuJ,GAAAxJ,EAAD,OAEFD,EAAAC,EAAAC,cAACwJ,GAAAzJ,EAAD,CACE0B,UAAU,iBACVnB,MAAO,CAAEJ,MAAO,sBAChBwB,QAAS,kBAAMkE,EAAa,yEA7ChB3E,aAsD1BgH,GAAY/C,aAAe,CACzBmD,aAAc,MAiBDnH,mBAlFS,SAAA3D,GAAK,MAAK,CAChCG,UAAWH,EAAMG,UACjB0K,WAAY7K,EAAMkM,OAAOtB,SAGA,SAAArK,GAAQ,MAAK,CACtCoK,aAAc,SAAA7J,GAAE,OAAIP,EPaI,SAAAO,GAAE,MAAK,CAC/BW,KAxBoB,SAyBpBX,MOf6B+J,CAAW/J,KACxCJ,cAAe,kBAAMH,EAASG,QA2EjBiD,CAA6C+G,IC3FtDyB,GAAc,SAAAtI,GAAA,IAClBoH,EADkBpH,EAClBoH,SACAE,EAFkBtH,EAElBsH,SACAN,EAHkBhH,EAGlBgH,WACA5D,EAJkBpD,EAIlBoD,YACAD,EALkBnD,EAKlBmD,YACAqB,EANkBxE,EAMlBwE,aACA6C,EAPkBrH,EAOlBqH,aACAJ,EARkBjH,EAQlBiH,aARkB,OAUlBvI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEM,MAAO,CACLK,QAAS,OACTgJ,eAAgB,SAChBC,WAAY,SACZC,UAAW,SAGb/J,EAAAC,EAAAC,cAAC8J,GAAA/J,EAAD,CACEO,MAAO,CAAE2I,MAAO,QAASc,SAAU,QAAS7J,MAAO,sBAGvDJ,EAAAC,EAAAC,cAACgK,GAAD,CACE5L,KAAMmG,EACNiE,SAAUA,EACVE,SAAUA,EACVN,WAAYA,EACZC,aAAcA,EACd7D,YAAaA,EACboB,aAAcA,EACd6C,aAAcA,MAKpBiB,GAAYxE,aAAe,CACzBmD,aAAc,cAcDqB,UCzDTO,GAAc,CAClB,YACA,aACA,0cCUF,IAYMC,4CACJ,SAAAA,EAAYvK,GAAO,IAAAD,EAAA,OAAAgD,OAAAyH,EAAA,EAAAzH,CAAA7B,KAAAqJ,IACjBxK,EAAA0K,EAAAC,KAAAxJ,KAAMlB,IA2ER6I,SAAW,WAAM,IAAA7C,EAC8BjG,EAAKC,MAA1C/B,EADO+H,EACP/H,MAAOF,EADAiI,EACAjI,UAAqB4E,EADrBqD,EACW5H,SAC1BuM,IAAIC,gBAAgB3M,EAAMF,EAAUC,SAEpC2E,GADoB5E,EAAUC,OAAS,GAAKC,EAAMC,SA/EjC6B,EAmFnB8K,UAAY,WAAM,IAAAjC,EAGZ7I,EAAKC,MADP/B,EAFc2K,EAEd3K,MAAOF,EAFO6K,EAEP7K,UAAW0K,EAFJG,EAEIH,WAAsB9F,EAF1BiG,EAEgBxK,SAGb,IAAfqK,GACFkC,IAAIC,gBAAgB3M,EAAMF,EAAUC,SAChCD,EAAUC,OAASC,EAAMC,OAAS,GAAGyE,EAAK5E,EAAUC,OAAS,IACzC,IAAfyK,EAET9F,EAAK5E,EAAUC,QAEV+B,EAAK8I,YA/FK9I,EAkGnB+I,aAAe,WAAM,IAAAgC,EAC0B/K,EAAKC,MAA1C/B,EADW6M,EACX7M,MAAOF,EADI+M,EACJ/M,UAAqB4E,EADjBmI,EACO1M,SAC1BuM,IAAIC,gBAAgB3M,EAAMF,EAAUC,SAEpC2E,EADwC,IAArB5E,EAAUC,OAAeC,EAAMC,OAAS,EAAIH,EAAUC,OAAS,IArGjE+B,EAyGnBgL,WAAa,WACX,IAAMlG,EAAc,IAAM9E,EAAKiL,YAAYnG,YAAc9E,EAAKiL,YAAYC,UAAY,EACtFlL,EAAK0H,SAAS,CAAE5C,iBA3GC9E,EA8GnB3B,SAAW,SAACM,GAAO,IACTT,EAAU8B,EAAKC,MAAf/B,MACR,GAAIA,EAAMS,GAAK,CACb,IAAMwM,EAAUP,IAAIQ,gBAAgBlN,EAAMS,IAC1CqB,EAAKiL,YAAY7L,IAAM+L,EACvBnL,EAAKiL,YAAYrI,OACjB/D,OAAOwM,SAAStM,MAAQb,EAAMS,GAAIK,KAAKsM,QAAQ,OAAQ,MApHxCtL,EAwHnBgJ,SAAW,SAACuC,GACVvL,EAAKiL,YAAYnG,YAAc9E,EAAKiL,YAAYC,UAAYK,EAAO,MAzHlDvL,EA4HnBwL,kBAAoB,WAClB3M,OAAOkF,KAAK,qDAAsD,WA7HjD/D,EAgInByL,mBAAqB,WACnBzL,EAAK0H,SAAS,CAAEgE,cAAc,EAAOC,SAAU,GAAIC,iBAAiB,KA/HpE5L,EAAKnC,MAAQ,CACXiH,YAAa,EACb4G,cAAc,EACdG,oBAAoB,EACpBF,SAAU,GACVC,iBAAiB,EACjBjD,aAAc,KACdmD,0BAA0B,GATX9L,kEAaC,IAAAgG,EAAA7E,KAAA4K,EACQ5K,KAAKlB,MAAvB/B,EADU6N,EACV7N,MAAOiI,EADG4F,EACH5F,OACXjI,EAAM,KACRiD,KAAK8J,YAAY7L,IAAMwL,IAAIQ,gBAAgBlN,EAAM,KAEnDiD,KAAK6K,sBDtCM,SAAwBC,GACrC,IAAMC,EAAU,SAACpM,GACf,IAAMqM,EAAerM,EAAEsM,KAAKC,cAE5B,IAA2C,IAAvC9B,GAAY+B,QAAQH,GAAxB,CAHqB,IAQnBrD,EAGEmD,EAHFnD,SACAC,EAEEkD,EAFFlD,aACAxK,EACE0N,EADF1N,cAGF,OAAQ4N,GACN,IAAK,YACHpD,IACA,MACF,IAAK,aACHD,IACA,MACF,IAAK,QACHvK,OAON,OADAM,OAAO0N,iBAAiB,UAAWL,GAC5B,kBAAMrN,OAAO2N,oBAAoB,UAAWN,ICSpBO,CAAe,CAC1C3D,SAAU3H,KAAK2H,SACfC,aAAc5H,KAAK4H,aACnBxK,cAAe4H,IAEjBtH,OAAO0N,iBAAiB,sBAAuB,SAACzM,GAE9CA,EAAE8F,iBAEFI,EAAK0B,SAAS,CAAEiB,aAAc7I,EAAGgM,0BAA0B,wDAIrCY,GAAW,IAAAC,EAAAxL,KAC3BnD,EAAcmD,KAAKlB,MAAnBjC,UAD2B4O,EAEUzL,KAAKtD,MAA1C8K,EAF2BiE,EAE3BjE,aAAckD,EAFae,EAEbf,mBAClBa,EAAU1O,YAAcA,IACrB0O,EAAU1O,UAAUqH,SAGkB,IAAhCqH,EAAU1O,UAAUC,OAC7BkD,KAAK9C,SAAS,GACLqO,EAAU1O,UAAUC,SAAWD,EAAUC,QAElD4O,QAAQC,IAAI,sBACZ3L,KAAK8J,YAAYrI,QAGjBzB,KAAK9C,SAASqO,EAAU1O,UAAUC,QATlCkD,KAAK8J,YAAY8B,QAWfpE,IAAiBkD,IACnBlD,EAAaqE,SACbrE,EAAasE,WAAWC,KAAK,SAACC,GACC,aAAzBA,EAAaC,QACfT,EAAKjF,SAAS,CACZgE,cAAc,EACdE,iBAAiB,EACjBC,oBAAoB,EACpBF,SAAU,+CAGZgB,EAAKjF,SAAS,CACZgE,cAAc,EACdE,iBAAiB,EACjBC,oBAAoB,EACpBF,SAAU,+DAGdgB,EAAKjB,aAAa,CAAE/C,aAAc,0DAOxCxH,KAAK6K,yDA2DE,IAAAqB,EAAAlM,KAAAmM,EAGHnM,KAAKtD,MADPiH,EAFKwI,EAELxI,YAAa4G,EAFR4B,EAEQ5B,aAAcC,EAFtB2B,EAEsB3B,SAAUhD,EAFhC2E,EAEgC3E,aAAcmD,EAF9CwB,EAE8CxB,yBAA0BF,EAFxE0B,EAEwE1B,gBAFxE2B,EAMHpM,KAAKlB,MADP/B,EALKqP,EAKLrP,MAAOF,EALFuP,EAKEvP,UAAWmI,EALboH,EAKapH,OAAQuC,EALrB6E,EAKqB7E,WAAYxB,EALjCqG,EAKiCrG,KAExC,OACE9G,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmN,SAAA,KACEpN,EAAAC,EAAAC,cAACmN,GAAD,CACEzP,UAAWA,EACX8N,yBAA0BA,EAC1BjH,YAAa3G,EAAMF,EAAUC,QAC7BiI,aAAc,kBAAMmH,EAAK3F,SAAS,CAAEgE,cAAc,OAEpDtL,EAAAC,EAAAC,cAAA,SACEoN,QAAM,EACNC,UAAQ,EACRC,QAASzM,KAAK2J,UACd+C,aAAc1M,KAAK6J,WACnB8C,IAAK,SAACC,GAAYV,EAAKpC,YAAc8C,IAErC3N,EAAAC,EAAAC,cAAA,QAAA0C,OAAAgL,OAAA,CAAOC,KAAK,YAAe,MAG3B/G,IAASxH,EACPU,EAAAC,EAAAC,cAAC4N,GAAD,CACExF,WAAYA,EACZI,SAAU3H,KAAK2H,SACfE,SAAU7H,KAAK6H,SACfL,aAAcA,EACd7D,YAAaA,EACbiE,aAAc5H,KAAK4H,aACnBlE,YAAa3G,EAAMF,EAAUC,QAC7BiI,aAAc,SAAAiI,GAAG,OAAId,EAAK3F,SAAS,CAAEgE,cAAc,EAAMC,SAAUwC,OAGrE/N,EAAAC,EAAAC,cAAC8N,GAAD,CACElQ,MAAOA,EACPiI,OAAQA,EACRnI,UAAWA,EACX8G,YAAaA,EACboB,aAAc,SAAAiI,GAAG,OAAId,EAAK3F,SAAS,CAAEgE,cAAc,EAAMC,SAAUwC,OAGzE/N,EAAAC,EAAAC,cAAC+N,EAAAhO,EAAD,CACE0D,KAAM2H,EACN4C,iBAAkB,IAClBrK,QAAS9C,KAAKsK,mBACd8C,aAAc,CAAEC,mBAAoB,cACpCC,QACErO,EAAAC,EAAAC,cAAA,QAAM3B,GAAG,cAAcgN,GAAY,oCAErC+C,QACG9C,GACCxL,EAAAC,EAAAC,cAACqO,EAAAtO,EAAD,CAAQiE,IAAI,OAAO9D,MAAM,YAAYoO,KAAK,QAAQ5M,QAASb,KAAKqK,mBAAhE,uBA5LIjK,aAkNHC,eA9NS,SAAA3D,GAAK,MAAK,CAChCqJ,KAAMrJ,EAAMqJ,KACZhJ,MAAOL,EAAMK,MACbF,UAAWH,EAAMG,UACjB0K,WAAY7K,EAAMkM,OAAOtB,SAGA,SAAArK,GAAQ,MAAK,CACtC+H,OAAQ,kBAAM/H,EAASG,MACvBF,SAAU,SAAAM,GAAE,OAAIP,EAASC,EAASM,OAqNrB6C,CAA6CgJ,ICjOtDqE,GAAc7K,QACW,cAA7BnF,OAAOiQ,SAASC,UAEkB,UAA7BlQ,OAAOiQ,SAASC,UAEhBlQ,OAAOiQ,SAASC,SAASC,MAC1B,2DA6BN,SAASC,GAAgBC,GACvBxR,UAAUyR,cACPC,SAASF,GACThC,KAAK,SAACmC,GACLA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB1R,QACfH,UAAUyR,cAAcO,WAK1B7C,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrB6C,MAAM,SAACC,GACN/C,QAAQ+C,MAAM,4CAA6CA,KCpElD,ICATC,GAAc,CAClBxK,SAAS,EACTpH,QAAS,YCFL6R,GAAe,CACnBC,aAAa,EACbtH,OAAQ,GCSKuH,GAPEC,YAAgB,CAC/B/R,MHLa,WAAwB,IAAvBL,EAAuBqS,UAAA/R,OAAA,QAAAgS,IAAAD,UAAA,GAAAA,UAAA,GAAf,GAAIxB,EAAWwB,UAAA/R,OAAA,EAAA+R,UAAA,QAAAC,EACrC,OAAQzB,EAAOpP,MACb,IZDqB,YYEnB,SAAAiF,OAAAvB,OAAA0D,EAAA,EAAA1D,CAAWnF,GAAXmF,OAAA0D,EAAA,EAAA1D,CAAqB0L,EAAOxQ,QAE9B,IZHwB,eYItB,OAAOL,EAAM8I,OAAO,SAACjI,EAAM0R,GAAP,OAAiBA,IAAU1B,EAAO/P,KAExD,QACE,OAAOd,IGHXkM,ODDa,WAAkC,IAAjClM,EAAiCqS,UAAA/R,OAAA,QAAAgS,IAAAD,UAAA,GAAAA,UAAA,GAAzBJ,GAAcpB,EAAWwB,UAAA/R,OAAA,EAAA+R,UAAA,QAAAC,EAC/C,OAAQzB,EAAOpP,MACb,IdD0B,iBcExB,OAAO0D,OAAAqN,GAAA,EAAArN,CAAA,GAAKnF,EAAZ,CAAmBkS,aAAclS,EAAMkS,cAEzC,IdDkB,ScEhB,OAAO/M,OAAAqN,GAAA,EAAArN,CAAA,GAAKnF,EAAZ,CAAmB4K,OAAQiG,EAAO/P,KAEpC,QACE,OAAOd,ICPXG,UFFa,WAAiC,IAAhCH,EAAgCqS,UAAA/R,OAAA,QAAAgS,IAAAD,UAAA,GAAAA,UAAA,GAAxBL,GAAanB,EAAWwB,UAAA/R,OAAA,EAAA+R,UAAA,QAAAC,EAC9C,OAAQzB,EAAOpP,MACb,IbFqB,YaGnB,MAAO,CAAE+F,SAAS,EAAMpH,OAAQyQ,EAAO/P,IAEzC,IbP0B,iBaQxB,OAAOqE,OAAOgL,OAAO,GAAInQ,EAAO,CAAEwH,SAAUxH,EAAMwH,UAEpD,QACE,OAAOxH,IENXqJ,KCNa,WAA+B,IAA9BrJ,EAA8BqS,UAAA/R,OAAA,QAAAgS,IAAAD,UAAA,GAAAA,UAAA,GhBQrB,YgBPvB,QAD4CA,UAAA/R,OAAA,EAAA+R,UAAA,QAAAC,GAC7B7Q,MACb,IhBMqB,YgBLnB,MhBKmB,YgBHrB,KAAKE,EACH,OAAOA,EAET,KAAKE,EACH,OAAOA,EAET,KAAKD,EACH,OAAOA,EAET,QACE,OAAO5B,eCJPyS,GAAWC,yBAAe,CAC9BC,QAAS,CACPlO,QAASmO,OCXiBC,WAAoB,SAASxD,KAAK,SAACrP,GAC/D,GAAc,OAAVA,EAGJ,OAAOA,IDYEqP,KAAK,SAACyD,GACf,IAAInT,EAIFA,EAAQoT,YAAYZ,GAAUW,GAEhCE,EAA2BrT,GAC3BA,EAAMsT,UAAU,WC5BO,IAACjT,ID6BZ,CACRK,MAAOV,EAAMM,WAAWI,OC7B5BwS,WAAoB,QAAS7S,KDgC7BkT,IAASC,OAEP5Q,EAAAC,EAAAC,cAAC2Q,EAAA,EAAD,CAAUzT,MAAOA,GACf4C,EAAAC,EAAAC,cAAC4Q,EAAA,iBAAD,CAAkBC,MAAOb,IACvBlQ,EAAAC,EAAAC,cAAC8Q,GAAD,QAES/F,SAASgG,eAAe,WNrB1B,WACb,GAA6C,kBAAmB3T,UAAW,CAGzE,GADkB,IAAIkN,IAAI0G,YAAwBzS,OAAOiQ,UAC3CyC,SAAW1S,OAAOiQ,SAASyC,OAIvC,OAGF1S,OAAO0N,iBAAiB,OAAQ,WAC9B,IAAM2C,EAAK,GAAA3K,OAAM+M,YAAN,sBAENzC,GAwCX,SAAiCK,GAE/BsC,MAAMtC,GACHhC,KAAK,SAACuE,GAGiB,MAApBA,EAASC,SAC0D,IAAhED,EAASE,QAAQC,IAAI,gBAAgBtF,QAAQ,cAGhD5O,UAAUyR,cAAc0C,MAAM3E,KAAK,SAACmC,GAClCA,EAAayC,aAAa5E,KAAK,WAC7BrO,OAAOiQ,SAASiD,aAKpB9C,GAAgBC,KAGnBS,MAAM,WACL9C,QAAQC,IACN,mEAzDAkF,CAAwB9C,GAHxBD,GAAgBC,MMQxB+C","file":"static/js/main.afed43e9.chunk.js","sourcesContent":["/* eslint-disable import/no-cycle */\r\n\r\nimport { togglePlaying, playSong } from '../actions';\r\n\r\nlet store;\r\nconst mediaSessionEnabled = ('mediaSession' in navigator);\r\nconst addNewSong = (id) => {\r\n  const state = store.getState();\r\n  navigator.mediaSession.metadata = new window.MediaMetadata({\r\n    title: state.songs[id].name,\r\n    artist: 'Unknown',\r\n    album: 'Unknown Albumn',\r\n    artwork: [{\r\n      src: 'icons/mipmap-xhdpi/ic_launcher.png',\r\n      sizes: '96x96',\r\n      type: 'image/png',\r\n    }, {\r\n      src: 'icons/mipmap-xxhdpi/ic_launcher.png',\r\n      sizes: '144x144',\r\n      type: 'image/png',\r\n    }, {\r\n      src: 'icons/mipmap-xxxhdpi/ic_launcher.png',\r\n      sizes: '192x192',\r\n      type: 'image/png',\r\n    }, {\r\n      src: 'icons/playstore/icon.png',\r\n      sizes: '512x512',\r\n      type: 'image/png',\r\n    }],\r\n  });\r\n};\r\n\r\nconst addActionListeners = () => {\r\n  navigator.mediaSession.setActionHandler('previoustrack', () => {\r\n    if (store) {\r\n      const state = store.getState();\r\n      const prevId = state.playState.songId === 0\r\n        ? state.songs.length - 1 : state.playState.songId - 1;\r\n      store.dispatch(playSong(prevId));\r\n    }\r\n  });\r\n\r\n  navigator.mediaSession.setActionHandler('nexttrack', () => {\r\n    if (store) {\r\n      const state = store.getState();\r\n      const nextId = (state.playState.songId + 1) % state.songs.length;\r\n      store.dispatch(playSong(nextId));\r\n    }\r\n  });\r\n\r\n  navigator.mediaSession.setActionHandler('play', () => {\r\n    if (store) store.dispatch(togglePlaying());\r\n  });\r\n\r\n  navigator.mediaSession.setActionHandler('pause', () => {\r\n    if (store) store.dispatch(togglePlaying());\r\n  });\r\n};\r\nif (mediaSessionEnabled) addActionListeners();\r\n\r\nexport default {\r\n  setStore(s) {\r\n    store = s;\r\n  },\r\n  playSong(song) {\r\n    if (mediaSessionEnabled) {\r\n      addNewSong(song);\r\n    }\r\n  },\r\n};\r\n","/* eslint-disable import/no-cycle */\r\nimport mediaSession from '../utils/media-session';\r\n\r\nexport const ADD_SONGS = 'ADD_SONGS';\r\nexport const REMOVE_SONGS = 'REMOVE_SONGS';\r\nexport const TOGGLE_PLAYING = 'TOGGLE_PLAYING';\r\nexport const FILTER_SONGS = 'FILTER_SONGS';\r\nexport const PLAY_SONG = 'PLAY_SONG';\r\nexport const TOGGLE_SIDEBAR = 'TOGGLE_SIDEBAR';\r\nexport const PLAYLIST_PAGE = 'PLAYLIST_PAGE';\r\nexport const SHUFFLE = 'SHUFFLE';\r\nexport const REPEAT = 'REPEAT';\r\nexport const HOME_PAGE = 'HOME_PAGE';\r\nexport const SETTINGS_PAGE = 'SETTINGS_PAGE';\r\nexport const NOW_PLAYING_PAGE = 'NOW_PLAYING_PAGE';\r\n\r\nexport const addSongs = songs => ({\r\n  type: ADD_SONGS,\r\n  songs,\r\n});\r\n\r\nexport const removeSong = id => ({\r\n  type: REMOVE_SONGS,\r\n  id,\r\n});\r\n\r\nexport const playSong = (id) => {\r\n  mediaSession.playSong(id);\r\n  return {\r\n    type: PLAY_SONG,\r\n    id,\r\n  };\r\n};\r\n\r\nexport const repeatType = id => ({\r\n  type: REPEAT,\r\n  id,\r\n});\r\n\r\nexport const togglePlaying = () => ({\r\n  type: TOGGLE_PLAYING,\r\n});\r\n\r\nexport const toggleSidebar = () => ({\r\n  type: TOGGLE_SIDEBAR,\r\n});\r\n\r\nexport const filterSong = filter => ({\r\n  type: FILTER_SONGS,\r\n  filter,\r\n});\r\n\r\nexport const homePage = () => ({\r\n  type: HOME_PAGE,\r\n});\r\n\r\nexport const nowPlayingPage = () => ({\r\n  type: NOW_PLAYING_PAGE,\r\n});\r\n\r\nexport const settingsPage = () => ({\r\n  type: SETTINGS_PAGE,\r\n});\r\n","import React, { Component } from 'react';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { addSongs } from '../actions';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addSongs: songs => dispatch(addSongs(songs)),\r\n});\r\n\r\nclass AddSongs extends Component {\r\n  addSong = (e) => {\r\n    const { addSongs: add } = this.props;\r\n    add(e.currentTarget.files);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fab\r\n        color=\"primary\"\r\n        aria-label=\"Add\"\r\n        component=\"label\"\r\n        htmlFor=\"song-input\"\r\n        style={{\r\n          position: 'fixed', bottom: '110px', right: '25px', zIndex: 3000,\r\n        }}\r\n      >\r\n        <input\r\n          style={{ display: 'none' }}\r\n          id=\"song-input\"\r\n          onChange={this.addSong}\r\n          type=\"file\"\r\n          multiple\r\n          accept=\"audio/mp3\"\r\n        />\r\n        <AddIcon />\r\n      </Fab>\r\n    );\r\n  }\r\n}\r\n\r\nAddSongs.propTypes = {\r\n  addSongs: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(AddSongs);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport MoreVert from '@material-ui/icons/MoreVert';\r\nimport MusicNote from '@material-ui/icons/MusicNote';\r\n\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\n\r\n\r\nconst Song = ({\r\n  song, handleClick, handleIconClick, isPlaying,\r\n}) => (\r\n  <ListItem className=\"song\" onClick={handleClick}>\r\n    <ListItemAvatar>\r\n      <Avatar>\r\n        { !isPlaying ? <MusicNote /> : <EqualizerIcon /> }\r\n      </Avatar>\r\n    </ListItemAvatar>\r\n    <ListItemText\r\n      primary={song.name}\r\n      secondary={null}\r\n    />\r\n    <ListItemSecondaryAction onClick={handleIconClick}>\r\n      <IconButton aria-label=\"Delete\">\r\n        <MoreVert />\r\n      </IconButton>\r\n    </ListItemSecondaryAction>\r\n  </ListItem>\r\n);\r\n\r\nSong.propTypes = {\r\n  song: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  handleClick: PropTypes.func.isRequired,\r\n  handleIconClick: PropTypes.func.isRequired,\r\n  isPlaying: PropTypes.bool.isRequired,\r\n};\r\nexport default Song;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport { removeSong, playSong } from '../actions';\r\nimport Song from './Song';\r\n\r\nconst mapStateToProps = store => ({\r\n  playState: store.playState,\r\n});\r\n\r\nconst SongList = ({\r\n  songs, remove, play, playState,\r\n}) => {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const [activeSong, setActiveSong] = useState(-1);\r\n\r\n  const setActiveSongItem = ind => ({ target }) => {\r\n    setAnchorEl(target);\r\n    setActiveSong(ind);\r\n  };\r\n\r\n  const handleSongClick = ind => () => play(ind);\r\n\r\n  if (!songs.length) {\r\n    return (\r\n      <h4 style={{ fontWeight: 300, textAlign: 'center' }}>No Songs Present. Please Add Songs</h4>\r\n    );\r\n  }\r\n  return (\r\n    <div style={{ marginBottom: '100px' }}>\r\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} open={Boolean(anchorEl)} onClose={() => setAnchorEl(null)}>\r\n        <MenuItem onClick={() => remove(activeSong)}>Remove Song</MenuItem>\r\n      </Menu>\r\n      <List>\r\n        {\r\n          songs.map((song, ind) => (\r\n            [\r\n              <Song\r\n                key={`song-${song.lastModifiedDate}`}\r\n                handleClick={handleSongClick(ind)}\r\n                handleIconClick={setActiveSongItem(ind)}\r\n                song={song}\r\n                isPlaying={ind === playState.songId}\r\n              />,\r\n              <Divider key={`divider-${song.lastModifiedDate}`} />,\r\n            ]\r\n          ))\r\n        }\r\n      </List>\r\n    </div>\r\n  );\r\n};\r\n\r\nSongList.propTypes = {\r\n  remove: PropTypes.func.isRequired,\r\n  play: PropTypes.func.isRequired,\r\n  songs: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.any)).isRequired,\r\n  playState: PropTypes.objectOf(PropTypes.any).isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, { remove: removeSong, play: playSong })(SongList);\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport MusicNote from '@material-ui/icons/MusicNote';\r\nimport PlayIcon from '@material-ui/icons/PlayCircleFilled';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nconst NowPlaying = ({\r\n  playState, playingSong, currentTime, togglePlaying, openNowPlaying,\r\n}) => {\r\n  const handleClick = (e) => {\r\n    if (!e.target.closest('[type=\"button\"]') && playingSong) {\r\n      openNowPlaying();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper className=\"small-now-playing\" onClick={handleClick}>\r\n      <LinearProgress variant=\"determinate\" value={currentTime} />\r\n      <div className=\"now-playing-container\">\r\n        <Avatar>\r\n          <MusicNote />\r\n        </Avatar>\r\n        <div className=\"song-name\">\r\n          {playingSong ? playingSong.name : '[No song]'}\r\n        </div>\r\n        <button type=\"button\" onClick={togglePlaying}>\r\n          { playState.playing ? <PauseIcon /> : <PlayIcon /> }\r\n        </button>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nNowPlaying.defaultProps = {\r\n  playingSong: null,\r\n};\r\n\r\nNowPlaying.propTypes = {\r\n  playState: propTypes.objectOf(propTypes.any).isRequired,\r\n  playingSong: propTypes.objectOf(propTypes.any),\r\n  currentTime: propTypes.number.isRequired,\r\n  togglePlaying: propTypes.func.isRequired,\r\n  openNowPlaying: propTypes.func.isRequired,\r\n};\r\n\r\nexport default NowPlaying;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport propTypes from 'prop-types';\r\n\r\nimport AddSongs from '../components/AddSongs';\r\nimport SongList from '../components/SongList';\r\nimport NowPlaying from '../components/NowPlaying';\r\nimport { togglePlaying, nowPlayingPage, addSongs } from '../actions';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  toggle: () => dispatch(togglePlaying()),\r\n  openNowPlaying: () => dispatch(nowPlayingPage()),\r\n  addSongs: songs => dispatch(addSongs(songs)),\r\n});\r\n\r\nclass MainView extends Component {\r\n  handleDragOver = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    // eslint-disable-next-line no-param-reassign\r\n    event.dataTransfer.dropEffect = 'copy';\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      songs, playState, openNowPlaying, openSnackbar, currentTime, addSongs: add, toggle,\r\n    } = this.props;\r\n    return (\r\n      <div\r\n        onDragOver={this.handleDragOver}\r\n        onDrop={(event) => {\r\n          this.handleDragOver(event);\r\n          if (window.File && window.FileReader && window.FileList && window.Blob) {\r\n            const files = [...event.dataTransfer.files].filter(({ name }) => name && name.endsWith('.mp3'));\r\n            if (files.length > 0) add(files);\r\n          } else {\r\n            openSnackbar('The File APIs are not fully supported in this browser.');\r\n          }\r\n          return false;\r\n        }}\r\n      >\r\n        <SongList songs={songs} />\r\n        <AddSongs />\r\n        <NowPlaying\r\n          togglePlaying={toggle}\r\n          playState={playState}\r\n          playingSong={songs[playState.songId]}\r\n          openNowPlaying={openNowPlaying}\r\n          currentTime={currentTime}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMainView.propTypes = {\r\n  openNowPlaying: propTypes.func.isRequired,\r\n  toggle: propTypes.func.isRequired,\r\n  addSongs: propTypes.func.isRequired,\r\n  songs: propTypes.arrayOf(propTypes.any).isRequired,\r\n  playState: propTypes.objectOf(propTypes.any).isRequired,\r\n  currentTime: propTypes.number.isRequired,\r\n  openSnackbar: propTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(MainView);\r\n","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport NowPlayingIcon from '@material-ui/icons/PlaylistPlay';\r\nimport PlayListIcon from '@material-ui/icons/List';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\nimport {\r\n  HOME_PAGE, SETTINGS_PAGE, NOW_PLAYING_PAGE, PLAYLIST_PAGE,\r\n} from '../actions';\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  openPage: type => dispatch({ type }),\r\n});\r\n\r\nconst menuOptions = [\r\n  {\r\n    option: 'Home',\r\n    page: HOME_PAGE,\r\n    icon: <HomeIcon />,\r\n  },\r\n  {\r\n    option: 'NowPlaying',\r\n    page: NOW_PLAYING_PAGE,\r\n    icon: <NowPlayingIcon />,\r\n  },\r\n  {\r\n    option: 'Playlists',\r\n    page: PLAYLIST_PAGE,\r\n    icon: <PlayListIcon />,\r\n  },\r\n  {\r\n    option: 'Settings',\r\n    page: SETTINGS_PAGE,\r\n    icon: <SettingsIcon />,\r\n  },\r\n];\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    open: false,\r\n  };\r\n\r\n  openPage = page => () => {\r\n    const { openPage, playState, openSnackbar } = this.props;\r\n    this.setState(prevState => ({ open: !prevState.open }));\r\n    if (page === PLAYLIST_PAGE || page === SETTINGS_PAGE) {\r\n      openSnackbar();\r\n      return;\r\n    }\r\n    // Don't Open now playing page when there is no song\r\n    if (!playState && page === NOW_PLAYING_PAGE) return;\r\n    if (page) openPage(page);\r\n  }\r\n\r\n  render() {\r\n    const { open } = this.state;\r\n    return (\r\n      <div>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <IconButton onClick={this.openPage()} color=\"inherit\" aria-label=\"Menu\">\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" color=\"inherit\">\r\n              Music Player\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <div className=\"header-padding\" style={{ height: '55px' }} />\r\n        <SwipeableDrawer anchor=\"left\" open={open} onClose={this.openPage()} onOpen={this.openPage()}>\r\n          <div style={{ paddingTop: '50px' }} />\r\n          {\r\n            menuOptions.map(option => (\r\n              <ListItem key={option.option} button onClick={this.openPage(option.page)}>\r\n                <ListItemIcon>{option.icon}</ListItemIcon>\r\n                <ListItemText>{option.option}</ListItemText>\r\n              </ListItem>\r\n            ))\r\n          }\r\n        </SwipeableDrawer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHeader.propTypes = {\r\n  openPage: propTypes.func.isRequired,\r\n  playState: propTypes.objectOf(propTypes.any).isRequired,\r\n  openSnackbar: propTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Header);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport propTypes from 'prop-types';\r\nimport Slider from '@material-ui/lab/Slider';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport SkipPrevious from '@material-ui/icons/SkipPrevious';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayIcon from '@material-ui/icons/PlayCircleFilled';\r\nimport PauseIcon from '@material-ui/icons/PauseCircleFilled';\r\nimport SkipNext from '@material-ui/icons/SkipNext';\r\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\r\nimport Repeat from '@material-ui/icons/Repeat';\r\nimport RepeatOne from '@material-ui/icons/RepeatOne';\r\nimport { repeatType, togglePlaying } from '../actions';\r\n\r\nconst mapStateToProps = state => ({\r\n  playState: state.playState,\r\n  repeatType: state.common.repeat,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  changeRepeat: id => dispatch(repeatType(id)),\r\n  togglePlaying: () => dispatch(togglePlaying()),\r\n});\r\n\r\nclass PlayingCtrl extends Component {\r\n  componentDidMount() {\r\n    const { installEvent } = this.props;\r\n    setTimeout(() => typeof installEvent === 'function' && installEvent(), 3000);\r\n  }\r\n\r\n  changeRepeat = () => {\r\n    const { repeatType: repeat, changeRepeat } = this.props;\r\n    const nextRepeat = repeat === 2 ? 0 : repeat + 1;\r\n    changeRepeat(nextRepeat);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      playState, song, playNext, playPrevious, currentTime, repeatType: repeat,\r\n      togglePlaying: toggle, timeDrag, openSnackbar,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Paper className=\"play-control\">\r\n        <h3 className=\"song-title\">{ song.name }</h3>\r\n        <Slider style={{ height: '2px' }} className=\"song-progress\" value={currentTime} onChange={(_, newVal) => timeDrag(newVal)} max={100} min={0} defaultValue={2} />\r\n        <div className=\"now-playing-container\">\r\n          <div style={{ width: '35%', textAlign: 'center' }} className=\"side-icons\">\r\n            <IconButton onClick={this.changeRepeat}>\r\n              { repeat === 1\r\n                ? <RepeatOne /> : <Repeat style={repeat === 2 ? {} : { opacity: 0.5 }} />\r\n              }\r\n            </IconButton>\r\n            <IconButton onClick={playPrevious}>\r\n              <SkipPrevious />\r\n            </IconButton>\r\n          </div>\r\n          <div style={{ width: '30%', textAlign: 'center' }} className=\"play-pause-button\">\r\n            <IconButton onClick={toggle}>\r\n              { playState.playing ? <PauseIcon /> : <PlayIcon /> }\r\n            </IconButton>\r\n          </div>\r\n          <div style={{ width: '35%', textAlign: 'center' }} className=\"side-icons\">\r\n            <IconButton onClick={playNext}>\r\n              <SkipNext />\r\n            </IconButton>\r\n            <ShuffleIcon\r\n              className=\"material-icons\"\r\n              style={{ color: 'rgba(0, 0, 0, 0.3)' }}\r\n              onClick={() => openSnackbar('Shuffle doesn\\'t work yet, You can make a PR 😊')}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nPlayingCtrl.defaultProps = {\r\n  installEvent: null,\r\n};\r\n\r\nPlayingCtrl.propTypes = {\r\n  timeDrag: propTypes.func.isRequired,\r\n  playNext: propTypes.func.isRequired,\r\n  playPrevious: propTypes.func.isRequired,\r\n  openSnackbar: propTypes.func.isRequired,\r\n  repeatType: propTypes.number.isRequired,\r\n  changeRepeat: propTypes.func.isRequired,\r\n  currentTime: propTypes.number.isRequired,\r\n  togglePlaying: propTypes.func.isRequired,\r\n  song: propTypes.objectOf(propTypes.any).isRequired,\r\n  playState: propTypes.objectOf(propTypes.any).isRequired,\r\n  installEvent: propTypes.func,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayingCtrl);\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport Album from '@material-ui/icons/Album';\r\n\r\nimport PlayingCtrl from '../components/PlayingCtrl';\r\n\r\nconst PlayingView = ({\r\n  playNext,\r\n  timeDrag,\r\n  repeatType,\r\n  currentTime,\r\n  playingSong,\r\n  openSnackbar,\r\n  playPrevious,\r\n  installEvent,\r\n}) => (\r\n  <div>\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        marginTop: '30px',\r\n      }}\r\n    >\r\n      <Album\r\n        style={{ width: '300px', fontSize: '300px', color: 'rgba(0,0,0,0.3)' }}\r\n      />\r\n    </div>\r\n    <PlayingCtrl\r\n      song={playingSong}\r\n      playNext={playNext}\r\n      timeDrag={timeDrag}\r\n      repeatType={repeatType}\r\n      installEvent={installEvent}\r\n      currentTime={currentTime}\r\n      openSnackbar={openSnackbar}\r\n      playPrevious={playPrevious}\r\n    />\r\n  </div>\r\n);\r\n\r\nPlayingView.defaultProps = {\r\n  installEvent: () => {},\r\n};\r\n\r\nPlayingView.propTypes = {\r\n  timeDrag: propTypes.func.isRequired,\r\n  playNext: propTypes.func.isRequired,\r\n  repeatType: propTypes.number.isRequired,\r\n  openSnackbar: propTypes.func.isRequired,\r\n  playPrevious: propTypes.func.isRequired,\r\n  installEvent: propTypes.func,\r\n  currentTime: propTypes.number.isRequired,\r\n  playingSong: propTypes.objectOf(propTypes.any).isRequired,\r\n};\r\n\r\nexport default PlayingView;\r\n","const ACTION_KEYS = [\r\n  'ARROWLEFT',\r\n  'ARROWRIGHT',\r\n  'SPACE',\r\n];\r\n\r\nexport default function keyboardEvents(handlers) {\r\n  const handler = (e) => {\r\n    const upperCaseKey = e.code.toUpperCase();\r\n\r\n    if (ACTION_KEYS.indexOf(upperCaseKey) === -1) {\r\n      return;\r\n    }\r\n\r\n    const {\r\n      playNext,\r\n      playPrevious,\r\n      togglePlaying,\r\n    } = handlers;\r\n\r\n    switch (upperCaseKey) {\r\n      case 'ARROWLEFT':\r\n        playPrevious();\r\n        break;\r\n      case 'ARROWRIGHT':\r\n        playNext();\r\n        break;\r\n      case 'SPACE':\r\n        togglePlaying();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  window.addEventListener('keydown', handler);\r\n  return () => window.removeEventListener('keydown', handler);\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport { NOW_PLAYING_PAGE, togglePlaying, playSong } from './actions';\r\n\r\nimport MainView from './views/MainView';\r\nimport Header from './components/Header';\r\nimport PlayingView from './views/PlayingView';\r\nimport keyboardEvents from './utils/keyboardEvents';\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  page: state.page,\r\n  songs: state.songs,\r\n  playState: state.playState,\r\n  repeatType: state.common.repeat,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  toggle: () => dispatch(togglePlaying()),\r\n  playSong: id => dispatch(playSong(id)),\r\n});\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentTime: 0,\r\n      snackBarOpen: false,\r\n      hasRejectedInstall: false,\r\n      snackMsg: '',\r\n      hideSnackAction: false,\r\n      installEvent: null,\r\n      addToHomeScreenUIVisible: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { songs, toggle } = this.props;\r\n    if (songs[0]) {\r\n      this.audioPlayer.src = URL.createObjectURL(songs[0]);\r\n    }\r\n    this.releaseKeyboardEvents = keyboardEvents({\r\n      playNext: this.playNext,\r\n      playPrevious: this.playPrevious,\r\n      togglePlaying: toggle,\r\n    });\r\n    window.addEventListener('beforeinstallprompt', (e) => {\r\n      // Prevent Chrome 67 and earlier from automatically showing the prompt\r\n      e.preventDefault();\r\n      // Stash the event so it can be triggered later.\r\n      this.setState({ installEvent: e, addToHomeScreenUIVisible: true });\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const { playState } = this.props;\r\n    const { installEvent, hasRejectedInstall } = this.state;\r\n    if (nextProps.playState !== playState) {\r\n      if (!nextProps.playState.playing) {\r\n        // PAUSE\r\n        this.audioPlayer.pause();\r\n      } else if (nextProps.playState.songId === -1) {\r\n        this.playSong(0);\r\n      } else if (nextProps.playState.songId === playState.songId) {\r\n        // RESUME\r\n        console.log('Should only resume');\r\n        this.audioPlayer.play();\r\n        // Start playing\r\n      } else {\r\n        this.playSong(nextProps.playState.songId);\r\n      }\r\n      if (installEvent && !hasRejectedInstall) {\r\n        installEvent.prompt();\r\n        installEvent.userChoice.then((choiceResult) => {\r\n          if (choiceResult.outcome === 'accepted') {\r\n            this.setState({\r\n              snackBarOpen: true,\r\n              hideSnackAction: true,\r\n              hasRejectedInstall: false,\r\n              snackMsg: '🤗 Yay! You\\'ve installed the app',\r\n            });\r\n          } else {\r\n            this.setState({\r\n              snackBarOpen: true,\r\n              hideSnackAction: true,\r\n              hasRejectedInstall: true,\r\n              snackMsg: '😥 Reload the page whenever you change your mind',\r\n            });\r\n          }\r\n          this.snackBarOpen({ installEvent: null });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.releaseKeyboardEvents();\r\n  }\r\n\r\n  playNext = () => {\r\n    const { songs, playState, playSong: play } = this.props;\r\n    URL.revokeObjectURL(songs[playState.songId]);\r\n    const nextSongId = (playState.songId + 1) % songs.length;\r\n    play(nextSongId);\r\n  }\r\n\r\n  songEnded = () => {\r\n    const {\r\n      songs, playState, repeatType, playSong: play,\r\n    } = this.props;\r\n    // No repeat\r\n    if (repeatType === 0) {\r\n      URL.revokeObjectURL(songs[playState.songId]);\r\n      if (playState.songId < songs.length - 1) play(playState.songId + 1);\r\n    } else if (repeatType === 1) {\r\n      // repeat one\r\n      play(playState.songId);\r\n    // repeat all\r\n    } else this.playNext();\r\n  }\r\n\r\n  playPrevious = () => {\r\n    const { songs, playState, playSong: play } = this.props;\r\n    URL.revokeObjectURL(songs[playState.songId]);\r\n    const prevSongId = playState.songId === 0 ? songs.length - 1 : playState.songId - 1;\r\n    play(prevSongId);\r\n  }\r\n\r\n  updateTime = () => {\r\n    const currentTime = 100 * this.audioPlayer.currentTime / this.audioPlayer.duration || 0;\r\n    this.setState({ currentTime });\r\n  }\r\n\r\n  playSong = (id) => {\r\n    const { songs } = this.props;\r\n    if (songs[id]) {\r\n      const fileSrc = URL.createObjectURL(songs[id]);\r\n      this.audioPlayer.src = fileSrc;\r\n      this.audioPlayer.play();\r\n      window.document.title = songs[id].name.replace('.mp3', '');\r\n    }\r\n  }\r\n\r\n  timeDrag = (time) => {\r\n    this.audioPlayer.currentTime = this.audioPlayer.duration * (time / 100);\r\n  }\r\n\r\n  handleActionClick = () => {\r\n    window.open('https://github.com/vermajai1995/react-music-player', '_blank');\r\n  }\r\n\r\n  handleRequestClose = () => {\r\n    this.setState({ snackBarOpen: false, snackMsg: '', hideSnackAction: false });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      currentTime, snackBarOpen, snackMsg, installEvent, addToHomeScreenUIVisible, hideSnackAction,\r\n    } = this.state;\r\n    const {\r\n      songs, playState, toggle, repeatType, page,\r\n    } = this.props;\r\n    return (\r\n      <>\r\n        <Header\r\n          playState={playState}\r\n          addToHomeScreenUIVisible={addToHomeScreenUIVisible}\r\n          playingSong={songs[playState.songId]}\r\n          openSnackbar={() => this.setState({ snackBarOpen: true })}\r\n        />\r\n        <audio\r\n          hidden\r\n          controls\r\n          onEnded={this.songEnded}\r\n          onTimeUpdate={this.updateTime}\r\n          ref={(audio) => { this.audioPlayer = audio; }}\r\n        >\r\n          <track kind=\"captions\" {...{}} />\r\n        </audio>\r\n        {\r\n          page === NOW_PLAYING_PAGE ? (\r\n            <PlayingView\r\n              repeatType={repeatType}\r\n              playNext={this.playNext}\r\n              timeDrag={this.timeDrag}\r\n              installEvent={installEvent}\r\n              currentTime={currentTime}\r\n              playPrevious={this.playPrevious}\r\n              playingSong={songs[playState.songId]}\r\n              openSnackbar={msg => this.setState({ snackBarOpen: true, snackMsg: msg })}\r\n            />\r\n          ) : (\r\n            <MainView\r\n              songs={songs}\r\n              toggle={toggle}\r\n              playState={playState}\r\n              currentTime={currentTime}\r\n              openSnackbar={msg => this.setState({ snackBarOpen: true, snackMsg: msg })}\r\n            />\r\n          )}\r\n        <Snackbar\r\n          open={snackBarOpen}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleRequestClose}\r\n          ContentProps={{ 'aria-describedby': 'message-id' }}\r\n          message={(\r\n            <span id=\"message-id\">{snackMsg || 'Not Implemented yet 😊'}</span>\r\n          )}\r\n          action={\r\n            !hideSnackAction && (\r\n              <Button key=\"undo\" color=\"secondary\" size=\"small\" onClick={this.handleActionClick}>\r\n                MAKE A PR\r\n              </Button>\r\n            )}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  page: PropTypes.string.isRequired,\r\n  songs: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n  playState: PropTypes.shape({\r\n    playing: PropTypes.bool.isRequired,\r\n    songId: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n  repeatType: PropTypes.oneOf([0, 1, 2]).isRequired,\r\n  toggle: PropTypes.func.isRequired,\r\n  playSong: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost'\r\n    // [::1] is the IPv6 localhost address.\r\n    || window.location.hostname === '[::1]'\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    || window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\r\n    ),\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404\r\n        || response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.',\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { ADD_SONGS, REMOVE_SONGS } from '../actions';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case ADD_SONGS: {\r\n      return [...state, ...action.songs];\r\n    }\r\n    case REMOVE_SONGS: {\r\n      return state.filter((song, index) => index !== action.id);\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { PLAY_SONG, TOGGLE_PLAYING } from '../actions/index';\r\n\r\nconst initalState = {\r\n  playing: false,\r\n  songId: -1,\r\n};\r\n\r\nexport default (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case PLAY_SONG: {\r\n      return { playing: true, songId: action.id };\r\n    }\r\n    case TOGGLE_PLAYING: {\r\n      return Object.assign({}, state, { playing: !state.playing });\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { TOGGLE_SIDEBAR, REPEAT } from '../actions/index';\r\n\r\nconst initialState = {\r\n  sidebarOpen: false,\r\n  repeat: 0,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_SIDEBAR: {\r\n      return { ...state, sidebarOpen: !state.sidebarOpen };\r\n    }\r\n    case REPEAT: {\r\n      return { ...state, repeat: action.id };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport songs from './songs';\r\nimport playState from './playState';\r\nimport common from './common';\r\nimport page from './page';\r\n\r\nconst reducers = combineReducers({\r\n  songs,\r\n  common,\r\n  playState,\r\n  page,\r\n});\r\n\r\nexport default reducers;\r\n","import {\r\n  HOME_PAGE, NOW_PLAYING_PAGE, SETTINGS_PAGE, PLAYLIST_PAGE,\r\n} from '../actions/index';\r\n\r\nexport default (state = HOME_PAGE, action) => {\r\n  switch (action.type) {\r\n    case HOME_PAGE: {\r\n      return HOME_PAGE;\r\n    }\r\n    case PLAYLIST_PAGE: {\r\n      return PLAYLIST_PAGE;\r\n    }\r\n    case NOW_PLAYING_PAGE: {\r\n      return NOW_PLAYING_PAGE;\r\n    }\r\n    case SETTINGS_PAGE: {\r\n      return SETTINGS_PAGE;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport deepPurple from '@material-ui/core/colors/deepPurple';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport reducers from './reducers';\r\nimport loggerMiddleware from './middleware';\r\nimport { saveState, getState } from './store/localStore';\r\nimport mediaNotification from './utils/media-session';\r\n\r\nconst muiTheme = createMuiTheme({\r\n  palette: {\r\n    primary: deepPurple,\r\n  },\r\n});\r\n\r\n\r\ngetState().then((localState) => {\r\n  let store;\r\n  if (process.env.NODE_ENV === 'development') {\r\n    store = createStore(reducers, localState, applyMiddleware(loggerMiddleware));\r\n  } else {\r\n    store = createStore(reducers, localState);\r\n  }\r\n  mediaNotification.setStore(store);\r\n  store.subscribe(() => {\r\n    saveState({\r\n      songs: store.getState().songs,\r\n    });\r\n  });\r\n  ReactDOM.render(\r\n    // eslint-disable-next-line\r\n    <Provider store={store}>\r\n      <MuiThemeProvider theme={muiTheme}>\r\n        <App />\r\n      </MuiThemeProvider>\r\n    </Provider>, document.getElementById('root'),\r\n  );\r\n});\r\nregisterServiceWorker();\r\n","import * as LocalForage from 'localforage';\r\n\r\nexport const saveState = (state) => {\r\n  LocalForage.setItem('state', state);\r\n};\r\n\r\nexport const getState = () => LocalForage.getItem('state').then((state) => {\r\n  if (state === null) {\r\n    return undefined;\r\n  }\r\n  return state;\r\n});\r\n"],"sourceRoot":""}